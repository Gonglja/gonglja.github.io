<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Gong's Blog</title><meta name="author" content="lj gong"><meta name="copyright" content="lj gong"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="蓬生麻中，不扶而直，白沙在涅，与之俱黑。">
<meta property="og:type" content="website">
<meta property="og:title" content="Gong&#39;s Blog">
<meta property="og:url" content="http://gonglja.github.io/index.html">
<meta property="og:site_name" content="Gong&#39;s Blog">
<meta property="og:description" content="蓬生麻中，不扶而直，白沙在涅，与之俱黑。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Gonglja/imgur/img/202204111228921.png">
<meta property="article:author" content="lj gong">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/Gonglja/imgur/img/202204111228921.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://gonglja.github.io/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Gong\'s Blog',
  isPost: false,
  isHome: true,
  isHighlightShrink: undefined,
  isToc: false,
  postUpdate: '2022-05-05 15:04:49'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.0.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/Gonglja/imgur/img/202204111228921.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">18</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时光轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="https://gonglja.github.io/Notes"><i class="fa-fw fas fa-link"></i><span> 笔记</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/Gonglja/imgur/img/202204111317494.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Gong's Blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时光轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="https://gonglja.github.io/Notes"><i class="fa-fw fas fa-link"></i><span> 笔记</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Gong's Blog</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/gonglja" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:glj0@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/posts/4a17b156/" title="Hello World"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/4a17b156/" title="Hello World">Hello World</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-05T07:04:35.959Z" title="发表于 2022-05-05 15:04:35">2022-05-05</time></span></div><div class="content">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new post1$ hexo new "My New Post"

More info: Writing
Run server1$ hexo server

More info: Server
Generate static files1$ hexo generate

More info: Generating
Deploy to remote sites1$ hexo deploy

More info: Deployment
</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/9faa78d2/" title="设备树"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="设备树"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/9faa78d2/" title="设备树">设备树</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-29T00:57:30.000Z" title="发表于 2022-04-29 08:57:30">2022-04-29</time></span></div><div class="content">设备树语法设备树示例：
节点格式label: node-name@unit-address

lable: 标号（可省略，其作用方便引用node，类似汇编中的label）

node-name: 节点名字

unit-address: 单元地址


属性格式name=value
value有多种取值方式。

一个32位的数据，用尖括号包围起来，如
  1interrupts = &lt;17&gt;
一个64位数据（使用2个32位数据表示），用尖括号围起来，如：
  1clock-frequency = &lt;0x00000001 0x00000000&gt;
一个有结束字符的字符串”disabled”，如
  1status = "disabled"


字节序列，用中括号包起来
  1local-man-address = [1a 2b 3c 4d 5e 6f] //每个byte使用2个16进制数来表示


也可以是各种值的组合，用，隔开
  1compatible = "samsung,smart210", "samsung,s5pv210";



一些标准属性compati ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/d152f189/" title="cpp使用chrono获取当前时间"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/Gonglja/imgur/img/202204252009405.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="cpp使用chrono获取当前时间"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/d152f189/" title="cpp使用chrono获取当前时间">cpp使用chrono获取当前时间</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-25T11:51:07.000Z" title="发表于 2022-04-25 19:51:07">2022-04-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF%E9%9A%8F%E7%AC%94/">技术随笔</a></span></div><div class="content">cpp使用chrono获取当前时间有时候我们需要测试一个函数的运行时间，可以使用 std中的chrono来完成此功能，示例代码如下。
示例示例1123456789101112131415161718192021222324252627282930#include &lt;chrono&gt;#include &lt;iostream&gt;int main() {  // 获取当前时间  std::chrono::system_clock::time_point now = std::chrono::system_clock::now();  // 距离1970-01-01 00:00:00的纳秒数  std::chrono::nanoseconds d = now.time_since_epoch();  std::cout &lt;&lt;"current nanoseconds: " &lt;&lt; d.count() &lt;&lt; std::endl;  // 转换为微秒数, 会有精度损失  std::chrono::microseconds mcrosec = std: ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/6b3e9b20/" title="在ubuntu下更新自编译内核"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在ubuntu下更新自编译内核"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/6b3e9b20/" title="在ubuntu下更新自编译内核">在ubuntu下更新自编译内核</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-24T07:52:00.000Z" title="发表于 2022-04-24 15:52:00">2022-04-24</time></span></div><div class="content">如何在ubuntu下下载源码更新最新的内核呢？获取源码可以有几种方式获得源码，一种通过apt命令直接安装，也可直接在内核网站下载最新的，本文直接下在最新版内核。
apt 安装1sudo apt install linux-source-5.13.0

源码会下载到/usr/src下，且不会解压，可以拷贝至用户目录，再解压。
拷贝到自定义目录
123456789sudo cp /usr/src/linux-source-5.13.0 /path/to/anywhere# 接着修改文件权限为当前用户权限sudo chown 当前用户组:当前用户 文件（夹）# 此时就可以直接解压了，不需要root权限# 如因权限问题解压错误，一定要确保当前文件夹权限为当前用户，否则就得需要root权限解压tar -jxvf linux-source-5.13.0.tar.bz2



官网下载直接在 https://mirrors.edge.kernel.org/pub/linux/kernel/v5.x/ 下载最新，可能直接下载会比较慢，有能力的还是科学一下。
也可以使用镜像源，比如阿里云的 https: ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/d05aad81/" title="人为什么会愤怒"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="人为什么会愤怒"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/d05aad81/" title="人为什么会愤怒">人为什么会愤怒</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-24T03:32:00.000Z" title="发表于 2022-04-24 11:32:00">2022-04-24</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%A5%BD%E6%96%87%E8%BD%AC%E8%BD%BD/">好文转载</a></span></div><div class="content">
转自 https://zhuanlan.zhihu.com/p/27595310

​    一个通常的论调认为，人会愤怒是因为无能，无力于改变令自己不满意的现状，故而通过愤怒来表达对自己急于改变现状又不知道如何促成这种改变之窘境的恨意。这种观点无非认为，愤怒是多余的。只要冷静下来，看清楚现实和获得改变的唯一路径，并且正儿八经地去行动，就无需愤怒来激发或促成整个过程——这种观点认为，作为一种情绪化的多余，愤怒是对解决问题的最有效过程的一种惰性的阻碍。人们应当学会谦抑，时刻控制自己的怒火，从而全身心投入在解决问题的过程中，哪怕处于没有解决方案和通向胜利的希望，也不应当把精力浪费在情绪的宣泄中，只有如此，人类才能以最高的效率和最快的速度获得成功。
​    然而，问题是，人类要获得的成功是哪种成功？更进一步，人类能获得任何意义上的成功吗？只要考虑到死亡的必然性，上面两个唐突的发问就立刻显得和蔼可亲了。既然人类的一切努力最终都面临不可调和的僵局，那么为什么要把那个愚蠢的终点称作成功呢？亲身经历和体验者无论如何都无法使他的一切努力所兑换的回报得到保存，他和他所获得的一切都必须被强迫着离去、消 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/b176ed63/" title="ubuntu21.04及以上开启nfs(包括v2支持)"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ubuntu21.04及以上开启nfs(包括v2支持)"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/b176ed63/" title="ubuntu21.04及以上开启nfs(包括v2支持)">ubuntu21.04及以上开启nfs(包括v2支持)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-20T09:33:45.000Z" title="发表于 2022-04-20 17:33:45">2022-04-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE/">软件配置</a></span></div><div class="content">ubuntu21.04 及以上 开启nfs(包括v2支持)为方便调试arm板卡，开启ubuntu21.04 及以上系统的下的nfs服务，并添加nfsv2支持
安装安装nfs-kernel-server服务
1sudo apt install nfs-kernel-server



添加共享目录首先创建一个需要共享的目录 比如/share
12345sudo mkdir -p /sharesudo gedit /etc/exports # 在文件最后添加要共享的目录----------------------------------------------------------------/share *(rw,sync,no_root_squash) 



开启v2支持通过命令查看当前支持的nfs版本
1sudo cat /proc/fs/nfsd/versions

-2 +3 +4 +4.1 +4.2可以看到，默认是不支持v2版本的。
ubuntu21.04及以前，配置文件是在 /etc/default/nfs-kernel-server
所以在/etc/default/nf ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/3b31c731/" title="c语言中给定一个函数地址如何调用呢？"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/Gonglja/imgur/img/202204111548715.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="c语言中给定一个函数地址如何调用呢？"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/3b31c731/" title="c语言中给定一个函数地址如何调用呢？">c语言中给定一个函数地址如何调用呢？</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-11T07:48:18.000Z" title="发表于 2022-04-11 15:48:18">2022-04-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF%E9%9A%8F%E7%AC%94/">技术随笔</a></span></div><div class="content">背景在u-boot代码中有时会给出一个函数的地址（0x123456789xx），比如下面这种
然后告诉参数类型和返回值类型，那么我们要怎么使用呢？

首先先了解一下c语言中的函数
123456789void fun() {    printf("fun call\r\n");} int main() {       printf("address fun:%p\r\n",fun);    printf("address fun:%p\r\n",&amp;fun);    return 0;}

编译运行结果如下，可以看到二者地址是一致的，但是其意义却大不相同

fun 是fun函数的首地址，类型是 void ()。
&amp;fun表示指向函数fun这个对象的地址，类型是void (*)()。


继续在了解一下函数指针类型
其本身是一个指针，只不过该指针指向函数。
其格式如：函数返回值数据类型 （*指针变量名）（函数的实际参数或者函数参数的类型），其中指针变量名可以省略。
形如void * (*f) (void *) ，意思是f是一个指针，其指向一个函数（可以是 void* fun( ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/eeea93b8/" title="TEST"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="TEST"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/eeea93b8/" title="TEST">TEST</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-11T04:16:45.000Z" title="发表于 2022-04-11 12:16:45">2022-04-11</time></span></div><div class="content"></div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/f88e6d17/" title="【源码分析】u-boot-2014.04 分析（未完待续）"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/Gonglja/imgur/img/202204082006861.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【源码分析】u-boot-2014.04 分析（未完待续）"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/f88e6d17/" title="【源码分析】u-boot-2014.04 分析（未完待续）">【源码分析】u-boot-2014.04 分析（未完待续）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-29T01:33:08.000Z" title="发表于 2022-03-29 09:33:08">2022-03-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF%E9%9A%8F%E7%AC%94/">技术随笔</a></span></div><div class="content">u-boot-2014.04 分析​    由于要移植一个 kernel 和 u-boot 到 smart210 平台，所以就有了该篇记录。
本文使用的版本是 u-boot-2022.04-rc4.tar.bz2 u-boot-2014.04（因作者能力不够，遂从2014.04开始）
s5pv210芯片启动流程由三星官方手册可知，整个启动分为三阶段，BL0、BL1、BL2，其中BL0运行内部iROM中，BL1和BL2运行在SRAM中，但在实际项目中使用的比较通用的启动流程与官方流程有较大差异，为什么呢？因为编译的u-boot过大，超过最大80k限制。所以BL2在SDRAM中运行，而三星官方是放在内部SRAM中运行。

BL0
运行在iROM上
代码固定在s5pv210的IROM中，无法修改。上电后直接从IROM中开始执行
主要工作
初始化系统时钟、特殊设备控制器、启动设备、看门狗、SRAM等
验证BL1镜像
从存储介质上（比如SD/eMMC/nand flash）等加载BL1镜像到内部SRAM中
跳转到BL1镜像所在地址



BL1
运行在SRAM上
BL1代码在BL0段被加载到SR ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/d78cdbc6/" title="Archlinux从安装到使用（持续更新中）"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://archlinux.org/static/logos/archlinux-logo-dark-1200dpi.b42bd35d5916.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Archlinux从安装到使用（持续更新中）"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/d78cdbc6/" title="Archlinux从安装到使用（持续更新中）">Archlinux从安装到使用（持续更新中）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-25T08:31:48.000Z" title="发表于 2022-03-25 16:31:48">2022-03-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE/">软件配置</a></span></div><div class="content"> 

Archlinux 从安装到使用（持续更新中）
关于关于Archlinux的介绍，自行查看主页
安装本文尝试过手动输入命令安装和archinstall 安装两种形式，手动命令安装参考 吴迪大佬的三部曲 安装 配置 常用软件。
经实验，可完美安装在redmibook pro15s 上，但由于一些软件体验不友好（此处点名腾讯类），所以切换为 Windows10 + Vmware ，在Vmware中安装archlinux。以下为在虚拟机中安装

虚拟机软件配置向导首先打开Vmware Workstation，点击文件 - 新建虚拟机，选择自定义（高级），
点击下一步，在安装来源中选择 安装程序光盘映像文件，点击右边的浏览找到你下载的archlinux-2022.03.01-x86_64.iso ，
点击下一步，选择操作系统为Linux，版本为 其他Linux5.x内核64位，
点击下一步，填写虚拟机的名称和要放置的位置，
点击下一步，选择处理器数量（本文1），每个处理器的内核数量（我的系统有12个，所填12），
下一步，选择虚拟机的内存（我分配的8G，因为后续要安装GNOME桌面，可能 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/Gonglja/imgur/img/202204111228921.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">lj gong</div><div class="author-info__description">蓬生麻中，不扶而直，白沙在涅，与之俱黑。</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">18</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Gonglja"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/gonglja" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:glj0@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">2022重新出发！加油加油</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/4a17b156/" title="Hello World"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"/></a><div class="content"><a class="title" href="/posts/4a17b156/" title="Hello World">Hello World</a><time datetime="2022-05-05T07:04:35.959Z" title="发表于 2022-05-05 15:04:35">2022-05-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/9faa78d2/" title="设备树"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="设备树"/></a><div class="content"><a class="title" href="/posts/9faa78d2/" title="设备树">设备树</a><time datetime="2022-04-29T00:57:30.000Z" title="发表于 2022-04-29 08:57:30">2022-04-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/d152f189/" title="cpp使用chrono获取当前时间"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/Gonglja/imgur/img/202204252009405.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="cpp使用chrono获取当前时间"/></a><div class="content"><a class="title" href="/posts/d152f189/" title="cpp使用chrono获取当前时间">cpp使用chrono获取当前时间</a><time datetime="2022-04-25T11:51:07.000Z" title="发表于 2022-04-25 19:51:07">2022-04-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/6b3e9b20/" title="在ubuntu下更新自编译内核"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在ubuntu下更新自编译内核"/></a><div class="content"><a class="title" href="/posts/6b3e9b20/" title="在ubuntu下更新自编译内核">在ubuntu下更新自编译内核</a><time datetime="2022-04-24T07:52:00.000Z" title="发表于 2022-04-24 15:52:00">2022-04-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/d05aad81/" title="人为什么会愤怒"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="人为什么会愤怒"/></a><div class="content"><a class="title" href="/posts/d05aad81/" title="人为什么会愤怒">人为什么会愤怒</a><time datetime="2022-04-24T03:32:00.000Z" title="发表于 2022-04-24 11:32:00">2022-04-24</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%A5%BD%E6%96%87%E8%BD%AC%E8%BD%BD/"><span class="card-category-list-name">好文转载</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E9%9A%8F%E7%AC%94/"><span class="card-category-list-name">技术随笔</span><span class="card-category-list-count">7</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E8%AF%B4%E6%98%8E%E4%B9%A6/"><span class="card-category-list-name">说明书</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE/"><span class="card-category-list-name">软件配置</span><span class="card-category-list-count">3</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/archlinux/" style="font-size: 1.3em; color: #99a1ac">archlinux</a> <a href="/tags/assembly/" style="font-size: 1.3em; color: #99a1ac">assembly</a> <a href="/tags/boot/" style="font-size: 1.1em; color: #999">boot</a> <a href="/tags/c/" style="font-size: 1.5em; color: #99a9bf">c</a> <a href="/tags/coredumped/" style="font-size: 1.1em; color: #999">coredumped</a> <a href="/tags/cpp/" style="font-size: 1.5em; color: #99a9bf">cpp</a> <a href="/tags/gdb/" style="font-size: 1.1em; color: #999">gdb</a> <a href="/tags/linux/" style="font-size: 1.1em; color: #999">linux</a> <a href="/tags/nfs/" style="font-size: 1.1em; color: #999">nfs</a> <a href="/tags/os/" style="font-size: 1.1em; color: #999">os</a> <a href="/tags/stl/" style="font-size: 1.1em; color: #999">stl</a> <a href="/tags/string/" style="font-size: 1.1em; color: #999">string</a> <a href="/tags/ubuntu/" style="font-size: 1.1em; color: #999">ubuntu</a> <a href="/tags/vmware/" style="font-size: 1.3em; color: #99a1ac">vmware</a> <a href="/tags/%E9%94%AE%E7%9B%98/" style="font-size: 1.1em; color: #999">键盘</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/05/"><span class="card-archive-list-date">五月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">四月 2022</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">三月 2022</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/02/"><span class="card-archive-list-date">二月 2022</span><span class="card-archive-list-count">2</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">18</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2021-12-31T16:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">60.4k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-05-05T07:04:49.109Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 By lj gong</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">本地搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    window.typed = new Typed("#subtitle", {
      strings: ["今日事&#44;今日毕","RTFM - Read The Fucking Manual.","RTFSC – Read The Fucking Source Code."],
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '今日事&#44;今日毕'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="false"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>